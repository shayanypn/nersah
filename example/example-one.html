<!DOCTYPE html>
<html>
<head>
<title>Example One</title>
<link rel="stylesheet" href="bootstrap.min.css" crossorigin="anonymous" />

</head>
<body>

<div class="container">
	<div class="row">
		<div class="col-md-12"><br /></div>
	</div>
	<div class="row">
		<div class="col-md-4">
			<div class="card">
				<div class="card-header">
					Simple Get
					<button id="btn-simple-get" class="btn btn-sm btn-primary float-right">Call</button>
				</div>
				<div class="card-body" id="log-simple-get"></div>
			</div>
		</div>
		<div class="col-md-4">
			<div class="card">
				<div class="card-header">
					Simple POST
					<button id="btn-simple-post" class="btn btn-sm btn-primary float-right">Call</button>
				</div>
				<div class="card-body" id="log-simple-post"></div>
			</div>
		</div>
		<div class="col-md-4">
			<div class="card">
				<div class="card-header">
					Simple PUT
					<button id="btn-simple-put" class="btn btn-sm btn-primary float-right">Call</button>
				</div>
				<div class="card-body" id="log-simple-put"></div>
			</div>
		</div>
	</div>
</div>

<script type="text/javascript" src="app.js"></script>
<script type="text/javascript" src="../dist/nersah.js"></script>
<script type="text/javascript">



/**
 * nersah config
 */
nersah.setDefault(
	{
		urlBase: '//localhost:3000',
		urlPrefix: '/api',
		urlSuffix: '',

		timeout: 3000,

		dataType: 'json',

		headers: function(){
			// if ( TOKEN ) {
			// 	return {
			// 		'Authorization': TOKEN,
			// 		'content-type': 'application/json'
			// 	};
			// }else{
				return {
					'content-type': 'application/json'
				};
			// };
		}
	},
	{
	200: function(http){
		print.log('GLOBAL::200 ');
		print.write('log-simple-get','------ GLOBAL:200 ------');
	},
	400: function(http){
		print.log('GLOBAL::400 ');
	},
	500: function(http){
		print.log('GLOBAL::500 ');
	}
});





/***********************************************
 * SIMPLE GET
 */

document.getElementById('btn-simple-get')
.addEventListener('click', function(){
	print.write('log-simple-get','------ start ------');
	nersah
	// .setTag('tag1')
	.get('~')
	.then(function(response, httpResponse){

		print.write('log-simple-get','Request Response is here');
		print.write('log-simple-get','------ end ------');
	}, function(){
		print.write('log-simple-get','fail');
		print.write('log-simple-get','------ end ------');	
	});
});


/***********************************************
 * SIMPLE POST
 */
document.getElementById('btn-simple-post')
.addEventListener('click', function(){
	print.write('log-simple-post','------ start ------');
	nersah
	.post('~')
	.then(function(response, httpResponse){

		print.write('log-simple-post','Request Response is here');
		print.write('log-simple-post','------ end ------');
	}, function(){
		print.write('log-simple-post','fail');
		print.write('log-simple-post','------ end ------');
	});
});



/***********************************************
 * SIMPLE PUT
 */
document.getElementById('btn-simple-put')
.addEventListener('click', function(){
	print.write('log-simple-put','------ start ------');
	nersah
	.put('~')
	.then(function(response, httpResponse){

		print.write('log-simple-put','Request Response is here');
		print.write('log-simple-put','------ end ------');
	}, function(){
		print.write('log-simple-put','fail');
		print.write('log-simple-put','------ end ------');
	});
});



























/***********************************************
 * 
 */

// print.write('login-ajax','------ start ------');
// nersah
// .setTag('tag1')
// .post({
// 	url: '/post',
// 	data: JSON.stringify({
// 		mail: 'admin',
// 		password: 'admin'
// 	})
// })
// .then(function(response){
	
// 	//console.log('R2');
// 	print.write('login-ajax','------ start ------');
// 	console.log(response.id);
// 	TOKEN = response.id;

// 	getAllTokens();
// });






// function getAllTokens(){
// 	nersah
// 	.setTag('tag1')
// 	.get({
// 		url: '/token',
// 		headers: ['Authorization:'+TOKEN]
// 	})
// 	.then(function(response){
// 		print.log('tokens::'+ response);
// 	});
// };


</script>
</body>
</html>